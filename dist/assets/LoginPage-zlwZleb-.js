import{r as a,A as N,u as L,a as C,j as e,L as F,b as T}from"./index-Bsjs9_Yf.js";import{T as E,a as B,b as h,c as m,L as r,I as l}from"./label-DLZm5VYE.js";import{B as g}from"./button-CCrqzPEZ.js";const k=()=>{const[x,p]=a.useState("login"),[i,j]=a.useState(""),[o,v]=a.useState(""),{login:f}=a.useContext(N),y=L(),{showToast:n}=C(),c={lightestBlue:"#C5BAFF",lightBlue:"#C4D9FF"},w=async t=>{var d,u;t.preventDefault();try{const s=await T.post("http://localhost:3000/api/auth/login",{username:i,password:o},{withCredentials:!0});if(s.status===200){const b=s.data.user;f(b),n({title:"Login Successful",description:"You have been logged in successfully.",type:"success"}),y("/home")}else n({title:"Login Failed",description:s.data.message||"An error occurred during login.",type:"error"}),console.log("Login failed: ",s.data.message)}catch(s){console.log("Error during login: ",s),n({title:"Login Failed",description:((u=(d=s.response)==null?void 0:d.data)==null?void 0:u.message)||"An error occurred during login.",type:"error"})}};return e.jsx("div",{className:"bg-white min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"relative isolate px-6 pt-14 lg:px-8",children:[e.jsx("div",{className:"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80","aria-hidden":"true",children:e.jsx("div",{className:"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs(E,{value:x,onValueChange:p,className:"w-[400px] bg-white p-6 rounded-xl shadow-md",children:[e.jsxs(B,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(h,{value:"login",children:"Login"}),e.jsx(h,{value:"reset",children:"Reset Password"})]}),e.jsx(m,{value:"login",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"username",children:"Username"}),e.jsx(l,{id:"username",type:"text",placeholder:"Enter your username",value:i,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"password",children:"Password"}),e.jsx(l,{id:"password",type:"password",placeholder:"Enter your password",value:o,onChange:t=>v(t.target.value)})]}),e.jsx(g,{className:"w-full",style:{backgroundColor:c.lightestBlue,cursor:"pointer"},onClick:w,children:"Login"}),e.jsx("div",{className:"text-center",children:e.jsx(F,{to:"/signup",className:"text-sm text-blue-600 hover:underline",children:"Don't have an account? Sign Up"})})]})}),e.jsx(m,{value:"reset",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"reset-username",children:"Username"}),e.jsx(l,{id:"reset-username",type:"text",placeholder:"Enter your username"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"reset-email",children:"Email"}),e.jsx(l,{id:"reset-email",type:"email",placeholder:"Enter your email"})]}),e.jsx(g,{className:"w-full",style:{backgroundColor:c.lightBlue},children:"Reset Password"})]})})]})})]})})};export{k as default};
